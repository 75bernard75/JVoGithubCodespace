#!/usr/bin/env bash
# LOT 2 Backend Setup Summary
# For: jeux-video-occasion.com (Affiliation + RÃ©tro Gaming)
# Status: ðŸŸ¡ Ready for T2.1 (user action)

cat << 'EOF'

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ðŸš€ LOT 2: BACKEND SETUP                          â•‘
â•‘                                                                            â•‘
â•‘                 jeux-video-occasion.com (RÃ©tro Gaming)                    â•‘
â•‘                                                                            â•‘
â•‘               Phase C â€” Directus Headless CMS Implementation              â•‘
â•‘                          2025-01-19                                       â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“Š STATUS OVERVIEW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ… LOT 0 (Architecture)    COMPLETE  â€” Framework decided (Eleventy + Directus)
  âœ… LOT 1 (Eleventy)        COMPLETE  â€” Website building (0.28s, 17 KB, tests âœ“)
  ðŸŸ¡ LOT 2 (Backend)         IN-PROGRESS â€” Directus setup (T2.1 blocking)
  â³ LOT 3â€“7                 PENDING    â€” CI/CD, Content, Monetization, Launch

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¯ LOT 2 MISSION (Next 4.5 Hours)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Deploy Directus Cloud + configure 7 collections (consoles, guides, accessories,
videos, images, affiliate_config, users) for content management.

Result: WordPress-like admin panel for non-technical editors to manage
all website content without coding.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“‹ SIX TASKS IN ORDER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  T2.1: Setup Directus Cloud Instance     [ðŸŸ¡ USER ACTION â€” 30 min]
        â†’ Create project at https://cloud.directus.io
        â†’ Get API key, store in .env

  T2.2: Implement Collections             [â³ Ready â€” 10 min]
        â†’ npm run directus:setup
        â†’ Auto-creates 7 collections via API

  T2.3: Prototype UX Test                 [â³ Ready â€” 30 min]
        â†’ Login, test CRUD operations
        â†’ Verify WordPress-like interface

  T2.4: Export JSON Route                 [â³ Ready â€” 45 min]
        â†’ npm run directus:export
        â†’ Creates data/directus-export.json

  T2.5: Security & Logging                [â³ Ready â€” 30 min]
        â†’ Configure CORS, rate limits, headers
        â†’ Enable audit logs

  T2.6: Admin Documentation               [âœ… Ready â€” 2 hours]
        â†’ 3 guides already created
        â†’ Ready for editor onboarding

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âš¡ IMMEDIATE ACTION REQUIRED (T2.1)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. Go to: https://cloud.directus.io
  2. Create project "jeux-video-occasion"
     â€¢ Database: PostgreSQL
     â€¢ Region: Europe
  3. Get admin credentials from email
  4. Create API key (Settings â†’ API Keys)
  5. Update .env file:
     DIRECTUS_URL=https://[project].directus.app
     DIRECTUS_API_KEY=[your-64-char-key]
  6. Test connection:
     curl -H "Authorization: Bearer $DIRECTUS_API_KEY" \
       "$DIRECTUS_URL/api/server/info"

  âœ… When returns JSON â†’ You're ready for T2.2

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¯ AFTER T2.1 COMPLETE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Run these commands (all automated):

  npm run directus:setup          # T2.2 (10 min)
  npm run directus:export         # T2.4 (included)
  # Configure security            # T2.5 (in admin panel)
  # Review documentation          # T2.6 (already done)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“š DOCUMENTATION STRUCTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Quick Start:
  â”œâ”€ START_LOT2.md ........................ â† Read this first (5 min)
  â”œâ”€ LOT2_README.md ....................... Overview + quick start
  â””â”€ HANDOFF_LOT2.md ...................... Complete specifications

  Admin Guides (After T2.2):
  â”œâ”€ docs/ADMIN_DIRECTUS_SETUP.md ........ Collections reference
  â”œâ”€ docs/ADMIN_CONTENT_WORKFLOW.md ...... How-to tutorials
  â””â”€ docs/ADMIN_TROUBLESHOOTING.md ....... FAQ + problem-solving

  Validation:
  â””â”€ LOT2_COMPLETION_CHECKLIST.md ........ Sign-off checklist

  Project Overview:
  â”œâ”€ README.md ............................ Project overview
  â”œâ”€ PHASE_C_SUMMARY.md .................. Phase architecture
  â””â”€ 00_START_HERE.md .................... Entry point

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“Š COLLECTIONS TO CREATE (T2.2)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. Consoles              (Gaming systems: PS2, N64, Xbox, etc.)
  2. Guides                (How-to content with v1/v2/v3 versions)
  3. Accessories           (Controllers, cables, protective cases)
  4. Videos                (YouTube embeds with context)
  5. Images                (Photos, artwork, screenshots)
  6. Affiliate Config      (Amazon tag, eBay campaign IDs)
  7. Users                 (Team member access control)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ” SECURITY (T2.5)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  âœ… API key in .env (not in git)
  âœ… HTTPS enforced (no HTTP)
  âœ… CORS whitelist (only our domain)
  âœ… Rate limiting (100 req/min)
  âœ… Audit logs (90 day retention)
  âœ… Credentials rotation (quarterly)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“Š ARCHITECTURE FLOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  [Editor creates console in Directus]
        â†“
  [Sets Status: published]
        â†“
  [Nightly cron exports JSON]
        â†“
  [Eleventy reads JSON data]
        â†“
  [Generates static HTML]
        â†“
  [Deploy to mutualisÃ© (FTP)]
        â†“
  [Live website (pure HTML)]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… SUCCESS CRITERIA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  T2.1 Done:
    â˜ Directus Cloud instance running
    â˜ Admin login working
    â˜ API key configured
    â˜ Connection test returns JSON

  T2.2 Done:
    â˜ 7 collections visible in admin
    â˜ 50+ fields configured
    â˜ All script steps completed

  T2.3 Done:
    â˜ Create, read, update, delete working
    â˜ Rich text editor functional
    â˜ UI feels WordPress-like

  T2.4 Done:
    â˜ data/directus-export.json exists
    â˜ Valid JSON format
    â˜ npm run build succeeds

  T2.5 Done:
    â˜ Security headers active
    â˜ CORS configured
    â˜ Audit logs enabled

  T2.6 Done:
    â˜ 3 admin guides reviewed
    â˜ Troubleshooting doc complete
    â˜ Editor onboarding ready

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“ž HELP & RESOURCES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Stuck on T2.1?
  â†’ Directus Cloud Docs: https://docs.directus.io/getting-started/installation/
  â†’ API Keys: https://docs.directus.io/reference/authentication.html

  Stuck on anything else?
  â†’ See: docs/ADMIN_TROUBLESHOOTING.md (10+ common issues + fixes)
  â†’ See: LOT2_README.md (quick reference)
  â†’ See: HANDOFF_LOT2.md (detailed specs)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸš€ NEXT PHASE (LOT 3)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  After LOT 2 complete:

  LOT 3: CI/CD Automation (GitHub Actions)
    â”œâ”€ Nightly Directus export sync
    â”œâ”€ Eleventy rebuild on content change
    â”œâ”€ Deploy to mutualisÃ© (FTP/SFTP)
    â””â”€ Performance + security tests

  LOT 4: Content Creation
    â”œâ”€ Populate 25 consoles
    â”œâ”€ Write guides (v1/v2/v3 versions)
    â”œâ”€ Upload images & videos
    â””â”€ Assign personas to all content

  LOT 5: Monetization
    â”œâ”€ Configure Amazon Associates
    â”œâ”€ Setup eBay EPN
    â””â”€ GA4 tracking for clicks

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸ“‹ FILES CREATED FOR LOT 2
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Scripts:
    âœ… scripts/setup-directus-cloud.sh
    âœ… scripts/setup-directus-collections.js
    âœ… scripts/export-directus-json.js

  Documentation:
    âœ… START_LOT2.md
    âœ… LOT2_README.md
    âœ… LOT2_COMPLETION_CHECKLIST.md
    âœ… HANDOFF_LOT2.md
    âœ… docs/ADMIN_DIRECTUS_SETUP.md
    âœ… docs/ADMIN_CONTENT_WORKFLOW.md
    âœ… docs/ADMIN_TROUBLESHOOTING.md

  Configuration:
    âœ… package.json (updated with directus:* scripts)
    âœ… .env.example

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ“ KEY CONCEPTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  Directus:
    Headless CMS â†’ separate content (Directus) from website (Eleventy)

  Collections:
    Database tables â†’ Consoles, Guides, Accessories, etc.

  Fields:
    Data columns â†’ name, slug, tier, status, etc.

  Personas:
    Target audiences â†’ nostalgic-gamer, collector, technical-enthusiast

  Gating:
    Rules for content â†’ only published, personas match, etc.

  Versions:
    Complexity levels â†’ V1 (beginner), V2 (intermediate), V3 (expert)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ¨ STARTING NOW
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. Read START_LOT2.md (5 minutes)
  2. Go to https://cloud.directus.io
  3. Create project "jeux-video-occasion"
  4. Get API key
  5. Update .env file
  6. Run connection test
  7. Message when ready â†’ T2.2â€“T2.6 automated!

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Status:    ðŸŸ¡ Ready (T2.1 blocking)
Est. Time: 4.5 hours (after T2.1)
Next:      Directus Cloud instance creation

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

EOF
